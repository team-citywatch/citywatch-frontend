(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(25),r=a.n(i),c=a(14),l=a(15),s=a(17),u=a(16),m=a(18),p=a(8),d=a(160),h=a(156),b=a(64),v=a(10),f=a(155),g=a(159),y=a(158),j=a(68),E=a.n(j),O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleSubmit=function(e){e.preventDefault(),a.props.onSubmit()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.onChange;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:t.searchBar},o.a.createElement(g.a,{className:t.input,fullWidth:!0,onChange:function(e){return a(e.target.value)},disableUnderline:!0}),o.a.createElement(y.a,{type:"submit"},o.a.createElement(E.a,null)))))}}]),t}(o.a.Component),x=Object(p.a)(function(){return{searchBar:{display:"flex"},input:{flexGrow:1}}})(O),w=a(69),k=a.n(w),N=a(39),C=a.n(N),S=a(40),B=a.n(S),I=Object(p.a)(function(){return{item:{position:"relative",borderBottom:"1px solid #eee",paddingLeft:10,paddingRight:10,paddingBottom:7,paddingTop:7,display:"flex",transition:".3s ease","&:last-child":{borderBottom:"none"},"&:hover":{background:"#f4f4f4"}},upvote:{position:"absolute",top:10,left:13,fontSize:10,padding:3,background:"#2196f3",borderRadius:8,color:"white"},cover:{objectFit:"cover",flexBasis:100,maxWidth:100,width:100,height:100,marginRight:10},contentBox:{flexGrow:1,display:"flex",flexDirection:"column"},content:{flexGrow:1},metas:{display:"flex"},metaTypo:{marginRight:8},icon:{marginRight:2}}})(function(e){var t=e.classes,a=e.content,n=e.location,i=e.upvote,r=e.image,c=e.onClick,l=e.user;return o.a.createElement(f.a,{className:t.item,elevation:0,onClick:c},o.a.createElement("span",{className:t.upvote},i," Ups!"),o.a.createElement("img",{src:r,alt:"",className:t.cover}),o.a.createElement("div",{className:t.contentBox},o.a.createElement("div",{className:t.content},o.a.createElement(h.a,null,a)),o.a.createElement("div",{className:t.metas},o.a.createElement(h.a,{variant:"caption",className:t.metaTypo,gutterBottom:!0,align:"center"},o.a.createElement(C.a,{className:t.icon,fontSize:"inherit",color:"disabled"}),n),o.a.createElement(h.a,{variant:"caption",className:t.metaTypo,gutterBottom:!0,align:"center"},o.a.createElement(B.a,{className:t.icon,fontSize:"inherit",color:"disabled"}),l&&"".concat(l.firstName," ").concat(l.lastName)))))}),z=Object(p.a)(function(e){var t;return{container:(t={boxSizing:"border-box",position:"absolute",zIndex:1,left:0,bottom:0,height:0},Object(v.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(v.a)(t,e.breakpoints.up("sm"),{width:380}),Object(v.a)(t,"transition",".3s ease"),t),active:{height:"100vh"},activeCloseButton:{display:"block !important"},list:{paddingTop:88,overflowY:"scroll",height:"100%"},closeButton:{zIndex:2,position:"absolute",top:20,right:20,display:"none"}}})(function(e){var t=e.classes,a=e.items,n=e.active,i=e.onClose,r=e.onClickItem;return o.a.createElement(f.a,{elevation:2,className:"".concat(t.container," ").concat(n&&t.active)},o.a.createElement(f.a,{className:"".concat(t.closeButton," ").concat(n&&t.activeCloseButton)},o.a.createElement(y.a,{onClick:i},o.a.createElement(k.a,null))),o.a.createElement("div",{className:t.list},a&&a.map(function(e,t){return o.a.createElement(I,Object.assign({key:t},e,{onClick:function(){return r(t)}}))})))}),A=a(70),L=a.n(A),T=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.active,n=e.onPrevious,i=e.item;return o.a.createElement(f.a,{className:"".concat(t.container," ").concat(a&&t.active)},o.a.createElement(f.a,{className:t.previousButton},o.a.createElement(y.a,{onClick:n},o.a.createElement(L.a,null))),o.a.createElement("img",{src:i.image,alt:"",className:t.cover}),o.a.createElement("div",{className:t.contentBox},o.a.createElement(h.a,{className:t.metaTypo},o.a.createElement(C.a,{className:t.icon,fontSize:"inherit",color:"disabled"}),i.location),o.a.createElement(h.a,{className:t.metaTypo},o.a.createElement(B.a,{className:t.icon,fontSize:"inherit",color:"disabled"}),i.user&&"".concat(i.user.firstName," ").concat(i.user.lastName)),o.a.createElement(h.a,{className:t.content},i.content)))}}]),t}(o.a.Component),P=Object(p.a)(function(e){var t;return{container:(t={boxSizing:"border-box",position:"absolute",zIndex:1,left:0,bottom:0,height:0},Object(v.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(v.a)(t,e.breakpoints.up("sm"),{width:380}),Object(v.a)(t,"overflowY","hidden"),Object(v.a)(t,"transition",".3s ease"),t),active:{height:"100vh"},previousButton:{position:"absolute",top:20,right:20},cover:{height:250,width:"100%",objectFit:"cover"},contentBox:{padding:"15px 20px"},content:{marginTop:15},metaTypo:{verticalAlign:"center"}}})(T),R=a(71),F=a.n(R).a.create({baseURL:"http://citywatch.tk:3000"}),M=function(e){return F.get("/report/"+(e&&"?keyword="+e)).then(function(e){return e.data}).then(function(e){return e.reports})},D=["building.jpg","garbage.jpeg","manhole.jpg","pothole.jpg","traffic_light.jpg"],U=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={activeList:!1,itemIndex:0,activeDetailed:!1,value:"",items:[]},a.handleChange=function(e){a.setState({value:e})},a.handleSubmit=function(){M(a.state.value).then(function(e){a.setState({activeList:!0,items:e.map(function(e){return Object(b.a)({},e,{image:e.image?e.image:"https://s3-us-west-2.amazonaws.com/f8-citywatch/"+D[Math.floor(Math.random()*D.length)]})})},function(){return a.props.setOverlay(a.state.items)})})},a.handleClose=function(){a.setState({activeList:!1})},a.handleClickItem=function(e){a.setState({activeDetailed:!0,itemIndex:e});var t=a.state.items[e];a.props.onPointing(e),a.props.map.setCenter({lng:t.lng,lat:t.lat})},a.handlePrevious=function(){a.setState({activeList:!0,activeDetailed:!1}),a.props.onPointing(null)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.activeList,n=t.activeDetailed,i=t.items,r=t.itemIndex;return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{elevation:1,className:"".concat(e.searchBar)},o.a.createElement(x,{onChange:this.handleChange,onSubmit:this.handleSubmit})),o.a.createElement(z,{active:a,items:i,onClose:this.handleClose,onClickItem:this.handleClickItem}),o.a.createElement(P,{active:n,item:r in i&&i[r],onPrevious:this.handlePrevious}))}}]),t}(o.a.Component),G=Object(p.a)(function(e){var t;return{searchBar:(t={position:"absolute",zIndex:3,top:20,left:20,paddingLeft:20},Object(v.a)(t,e.breakpoints.down("sm"),{width:"calc(100% - 95px)"}),Object(v.a)(t,e.breakpoints.up("sm"),{width:285}),Object(v.a)(t,"transition",".3s ease"),t)}})(U),W=a(72),J=a.n(W),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleApiLoaded=function(e,t){a.props.onSetMap(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.center,n=t.zoom,i=t.overlays,r=t.classes,c=t.currentIndex;return o.a.createElement("div",{style:{height:"100vh",width:"100%"}},o.a.createElement(J.a,{bootstrapURLKeys:{key:"AIzaSyAIhmPfJasQ4168ut6B54-UK3FnOEzYao4"},defaultCenter:a,defaultZoom:n,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){var a=t.map,n=t.maps;return e.handleApiLoaded(a,n)}},i&&i.map(function(e,t){return o.a.createElement("div",{className:"".concat(r.overlay," ").concat(t===c&&r.active),key:t,lat:e.lat,lng:e.lng,style:{width:5*e.upvote,height:5*e.upvote}})})))}}]),t}(n.Component);Y.defaultProps={center:{lat:37.343393,lng:-121.869534},zoom:11};var K=Object(p.a)(function(){return{overlay:{backgroundColor:"rgba(17, 56, 178, 0.3)",border:"solid 1px rgba(17, 56, 178)",borderRadius:"50%",transition:".2s ease"},active:{backgroundColor:"rgba(178, 56, 17, 0.3)",border:"solid 1px rgba(178, 56, 17)"}}})(Y),Q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={map:null,overlays:[],currentIndex:null},a.handleMap=function(e){a.setState({map:e})},a.handleOverlays=function(e){a.setState({overlays:e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.map,i=a.overlays,r=a.currentIndex;return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,null),o.a.createElement(K,{onSetMap:this.handleMap,overlays:i,currentIndex:r}),o.a.createElement(G,{map:n,setOverlay:this.handleOverlays,onPointing:function(t){return e.setState({currentIndex:t})}}),o.a.createElement(h.a,{className:t.license,variant:"caption"},"Team CityWatch in F8"))}}]),t}(o.a.Component),Z=Object(p.a)(function(){return{license:{position:"absolute",left:0,right:0,top:0,margin:"auto",display:"block",textAlign:"center",padding:"0 3px",fontSize:12,background:"white"}}})(Q);a(139);r.a.render(o.a.createElement(Z,null),document.getElementById("root"))},76:function(e,t,a){e.exports=a(140)}},[[76,1,2]]]);
//# sourceMappingURL=main.349a7f32.chunk.js.map